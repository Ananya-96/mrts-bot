Timings database

{ "_id" : ObjectId("594d0027cefec439e422bd41"), "trainid" : 43654, "routeid" : "route3", "startTime" : 425, "endTime" : 615, "stations" : [ { "stationName" : "Avadi", "seqno" : 1, "stationid" : 100, "arrivalTime" : 0, "departureTime" : 425 }, { "stationName" : "Annanur", "seqno" : 2, "stationid" : 101, "arrivalTime" : 429, "departureTime" : 429 }, { "stationName" : "Tirumullaivayil", "seqno" : 3, "stationid" : 102, "arrivalTime" : 432, "departureTime" : 432 }, { "stationName" : "Ambattur", "seqno" : 4, "stationid" : 103, "arrivalTime" : 435, "departureTime" : 435 }, { "stationName" : "Pattaravakkam", "seqno" : 5, "stationid" : 104, "arrivalTime" : 438, "departureTime" : 438 }, { "stationName" : "Korattur", "seqno" : 6, "stationid" : 105, "arrivalTime" : 441, "departureTime" : 441 }, { "stationName" : "Villivakkam", "seqno" : 7, "stationid" : 106, "arrivalTime" : 445, "departureTime" : 445 }, { "stationName" : "Perambur Loco Works", "seqno" : 8, "stationid" : 107, "arrivalTime" : 448, "departureTime" : 448 }, { "stationName" : "Perambur Carriage Works", "seqno" : 9, "stationid" : 108, "arrivalTime" : 450, "departureTime" : 450 }, { "stationName" : "Perambur", "seqno" : 10, "stationid" : 109, "arrivalTime" : 452, "departureTime" : 452 }, { "stationName" : "Vyasarpadi Jeeva", "seqno" : 11, "stationid" : 110, "arrivalTime" : 454, "departureTime" : 454 }, { "stationName" : "Washermanpet", "seqno" : 12, "stationid" : 111, "arrivalTime" : 500, "departureTime" : 500 }, { "stationName" : "Royapuram", "seqno" : 13, "stationid" : 112, "arrivalTime" : 505, "departureTime" : 505 }, { "stationName" : "Chennai Beach", "seqno" : 14, "stationid" : 113, "arrivalTime" : 530, "departureTime" : 530 }, { "stationName" : "Chennai Fort", "seqno" : 15, "stationid" : 114, "arrivalTime" : 534, "departureTime" : 534 }, { "stationName" : "Chennai Park", "seqno" : 16, "stationid" : 115, "arrivalTime" : 536, "departureTime" : 536 }, { "stationName" : "Chintadaripet", "seqno" : 17, "stationid" : 116, "arrivalTime" : 538, "departureTime" : 538 }, { "stationName" : "Chennai Chetpat", "seqno" : 18, "stationid" : 117, "arrivalTime" : 540, "departureTime" : 540 }, { "stationName" : "Tiruvallikeni", "seqno" : 19, "stationid" : 118, "arrivalTime" : 542, "departureTime" : 542 }, { "stationName" : "Light House", "seqno" : 20, "stationid" : 119, "arrivalTime" : 544, "departureTime" : 544 }, { "stationName" : "Mundakakanni Amman Koil", "seqno" : 21, "stationid" : 120, "arrivalTime" : 548, "departureTime" : 548 }, { "stationName" : "Thirumayilai", "seqno" : 22, "stationid" : 121, "arrivalTime" : 549, "departureTime" : 549 }, { "stationName" : "Mandaveli", "seqno" : 23, "stationid" : 122, "arrivalTime" : 551, "departureTime" : 551 }, { "stationName" : "Greenways ROad", "seqno" : 24, "stationid" : 123, "arrivalTime" : 553, "departureTime" : 553 }, { "stationName" : "Kotturpuram", "seqno" : 25, "stationid" : 124, "arrivalTime" : 555, "departureTime" : 555 }, { "stationName" : "Kasturba Nagar", "seqno" : 26, "stationid" : 125, "arrivalTime" : 557, "departureTime" : 557 }, { "stationName" : "Indira Nagar", "seqno" : 27, "stationid" : 126, "arrivalTime" : 559, "departureTime" : 559 }, { "stationName" : "Tiruvanmiyur", "seqno" : 28, "stationid" : 127, "arrivalTime" : 600, "departureTime" : 600 }, { "stationName" : "Taramani", "seqno" : 29, "stationid" : 128, "arrivalTime" : 603, "departureTime" : 603 }, { "stationName" : "Perungudi", "seqno" : 30, "stationid" : 129, "arrivalTime" : 605, "departureTime" : 605 }, { "stationName" : "Velachery", "seqno" : 31, "stationid" : 130, "arrivalTime" : 615, "departureTime" : 0 } ] }

{ "_id" : ObjectId("594e397a22bcb92214bdb2e8"), "trainid" : 41008, "routeid" : "route2", "startTime" : 605, "endTime" : 650, "stations" : [ { "stationid" : 130, "seqno" : 1, "stationName" : "Perungudi", "arrivalTime" : 605, "departureTime" : 605 }, { "stationid" : 129, "seqno" : 2, "stationName" : "Perungudi", "arrivalTime" : 625, "departureTime" : 608 }, { "stationid" : 128, "seqno" : 3, "stationName" : "Taramani", "arrivalTime" : 610, "departureTime" : 610 }, { "stationid" : 127, "seqno" : 4, "stationName" : "Tiruvanmiyur", "arrivalTime" : 613, "departureTime" : 613 }, { "stationid" : 126, "seqno" : 5, "stationName" : "Indira Nagar", "arrivalTime" : 614, "departureTime" : 614 }, { "stationid" : 125, "seqno" : 6, "stationName" : "Kasturba Nagar", "arrivalTime" : 616, "departureTime" : 616 }, { "stationid" : 124, "seqno" : 7, "stationName" : "Kotturpuram", "arrivalTime" : 618, "departureTime" : 618 }, { "stationid" : 123, "seqno" : 8, "stationName" : "Greenways Road", "arrivalTime" : 620, "departureTime" : 620 }, { "stationid" : 122, "seqno" : 9, "stationName" : "Mandaveli", "arrivalTime" : 622, "departureTime" : 622 }, { "stationid" : 121, "seqno" : 10, "stationName" : "Thirumayilai", "arrivalTime" : 624, "departureTime" : 624 }, { "stationid" : 120, "seqno" : 11, "stationName" : "Mundakakanni Amman Koil", "arrivalTime" : 625, "departureTime" : 625 }, { "stationid" : 119, "seqno" : 12, "stationName" : "Light House", "arrivalTime" : 629, "departureTime" : 629 }, { "stationid" : 118, "seqno" : 13, "stationName" : "Tiruvallikeni", "arrivalTime" : 631, "departureTime" : 631 }, { "stationid" : 117, "seqno" : 14, "stationName" : "Chennai Chetpat", "arrivalTime" : 633, "departureTime" : 633 }, { "stationid" : 116, "seqno" : 15, "stationName" : "Chintadaripet", "arrivalTime" : 635, "departureTime" : 635 }, { "stationid" : 115, "seqno" : 16, "stationName" : "Chennai Park", "arrivalTime" : 637, "departureTime" : 637 }, { "stationid" : 114, "seqno" : 17, "stationName" : "Chennai Fort", "arrivalTime" : 639, "departureTime" : 639 }, { "stationid" : 113, "seqno" : 18, "stationName" : "Chennai Beach", "arrivalTime" : 650, "departureTime" : 650 } ] }

{ "_id" : ObjectId("5950a2c3586539364433caaf"), "trainid" : 43008, "routeid" : "route2", "startTime" : 630, "endTime" : 650, "stations" : [ { "stationid" : 130, "seqno" : 1, "stationName" : "Perungudi", "arrivalTime" : 605, "departureTime" : 605 }, { "stationid" : 129, "seqno" : 2, "stationName" : "Perungudi", "arrivalTime" : 608, "departureTime" : 608 }, { "stationid" : 128, "seqno" : 3, "stationName" : "Taramani", "arrivalTime" : 610, "departureTime" : 610 }, { "stationid" : 127, "seqno" : 4, "stationName" : "Tiruvanmiyur", "arrivalTime" : 613, "departureTime" : 613 }, { "stationid" : 126, "seqno" : 5, "stationName" : "Indira Nagar", "arrivalTime" : 614, "departureTime" : 614 }, { "stationid" : 125, "seqno" : 6, "stationName" : "Kasturba Nagar", "arrivalTime" : 616, "departureTime" : 616 }, { "stationid" : 124, "seqno" : 7, "stationName" : "Kotturpuram", "arrivalTime" : 618, "departureTime" : 618 }, { "stationid" : 123, "seqno" : 8, "stationName" : "Greenways Road", "arrivalTime" : 620, "departureTime" : 620 }, { "stationid" : 122, "seqno" : 9, "stationName" : "Mandaveli", "arrivalTime" : 622, "departureTime" : 622 }, { "stationid" : 121, "seqno" : 10, "stationName" : "Thirumayilai", "arrivalTime" : 624, "departureTime" : 624 }, { "stationid" : 120, "seqno" : 11, "stationName" : "Mundakakanni Amman Koil", "arrivalTime" : 625, "departureTime" : 625 }, { "stationid" : 119, "seqno" : 12, "stationName" : "Light House", "arrivalTime" : 629, "departureTime" : 629 }, { "stationid" : 118, "seqno" : 13, "stationName" : "Tiruvallikeni", "arrivalTime" : 631, "departureTime" : 631 }, { "stationid" : 117, "seqno" : 14, "stationName" : "Chennai Chetpat", "arrivalTime" : 633, "departureTime" : 633 }, { "stationid" : 116, "seqno" : 15, "stationName" : "Chintadaripet", "arrivalTime" : 635, "departureTime" : 635 }, { "stationid" : 115, "seqno" : 16, "stationName" : "Chennai Park", "arrivalTime" : 637, "departureTime" : 637 }, { "stationid" : 114, "seqno" : 17, "stationName" : "Chennai Fort", "arrivalTime" : 639, "departureTime" : 639 }, { "stationid" : 113, "seqno" : 18, "stationName" : "Chennai Beach", "arrivalTime" : 650, "departureTime" : 650 } ] }

{ "_id" : ObjectId("5950a31ab3200f4ea073e656"), "trainid" : 42008, "routeid" : "route2", "startTime" : 500, "endTime" : 650, "stations" : [ { "stationid" : 130, "seqno" : 1, "stationName" : "Perungudi", "arrivalTime" : 605, "departureTime" : 605 }, { "stationid" : 129, "seqno" : 2, "stationName" : "Perungudi", "arrivalTime" : 608, "departureTime" : 608 }, { "stationid" : 128, "seqno" : 3, "stationName" : "Taramani", "arrivalTime" : 610, "departureTime" : 610 }, { "stationid" : 127, "seqno" : 4, "stationName" : "Tiruvanmiyur", "arrivalTime" : 613, "departureTime" : 613 }, { "stationid" : 126, "seqno" : 5, "stationName" : "Indira Nagar", "arrivalTime" : 614, "departureTime" : 614 }, { "stationid" : 125, "seqno" : 6, "stationName" : "Kasturba Nagar", "arrivalTime" : 616, "departureTime" : 616 }, { "stationid" : 124, "seqno" : 7, "stationName" : "Kotturpuram", "arrivalTime" : 618, "departureTime" : 618 }, { "stationid" : 123, "seqno" : 8, "stationName" : "Greenways Road", "arrivalTime" : 620, "departureTime" : 620 }, { "stationid" : 122, "seqno" : 9, "stationName" : "Mandaveli", "arrivalTime" : 622, "departureTime" : 622 }, { "stationid" : 121, "seqno" : 10, "stationName" : "Thirumayilai", "arrivalTime" : 624, "departureTime" : 624 }, { "stationid" : 120, "seqno" : 11, "stationName" : "Mundakakanni Amman Koil", "arrivalTime" : 625, "departureTime" : 625 }, { "stationid" : 119, "seqno" : 12, "stationName" : "Light House", "arrivalTime" : 629, "departureTime" : 629 }, { "stationid" : 118, "seqno" : 13, "stationName" : "Tiruvallikeni", "arrivalTime" : 631, "departureTime" : 631 }, { "stationid" : 117, "seqno" : 14, "stationName" : "Chennai Chetpat", "arrivalTime" : 633, "departureTime" : 633 }, { "stationid" : 116, "seqno" : 15, "stationName" : "Chintadaripet", "arrivalTime" : 635, "departureTime" : 635 }, { "stationid" : 115, "seqno" : 16, "stationName" : "Chennai Park", "arrivalTime" : 637, "departureTime" : 637 }, { "stationid" : 114, "seqno" : 17, "stationName" : "Chennai Fort", "arrivalTime" : 639, "departureTime" : 639 }, { "stationid" : 113, "seqno" : 18, "stationName" : "Chennai Beach", "arrivalTime" : 650, "departureTime" : 650 } ] }


Routes table

{ "_id" : ObjectId("594bb4b5fd9b6805c4b70e22"), "name" : "route1", "start" : "Chennai Beach", "final" : "Velachery", "route" : [ { "stationid" : 114, "seqno" : 1, "stationName" : "Chennai Fort", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 115, "seqno" : 2, "stationName" : "Chennai Park", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 116, "seqno" : 3, "stationName" : "Chintadaripet", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 117, "seqno" : 4, "stationName" : "Chennai Chetpat", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 118, "seqno" : 6, "stationName" : "Light House", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 119, "seqno" : 5, "stationName" : "Tiruvallikeni", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 120, "seqno" : 7, "stationName" : "Mundakakanni Amman Koil", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 121, "seqno" : 8, "stationName" : "Thirumayilai", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 122, "seqno" : 9, "stationName" : "Mandaveli", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 123, "seqno" : 10, "stationName" : "Greenways Road", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 124, "seqno" : 11, "stationName" : "Kotturpuram", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 125, "seqno" : 12, "stationName" : "Kasturba Nagar", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 126, "seqno" : 13, "stationName" : "Indira Nagar", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 127, "seqno" : 14, "stationName" : "Tiruvanmiyur", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 128, "seqno" : 15, "stationName" : "Taramani", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 129, "seqno" : 16, "stationName" : "Perungudi", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 130, "seqno" : 17, "stationName" : "Velachery", "location" : { "latitude" : 0, "longitude" : 0 } } ] }

{ "_id" : ObjectId("594cefcc936668394cdf9667"), "name" : "route2", "start" : "Velachery", "final" : "Chennai Beach", "route" : [ { "stationid" : 129, "seqno" : 1, "stationName" : "Perungudi", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 128, "seqno" : 2, "stationName" : "Taramani", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 127, "seqno" : 3, "stationName" : "Tiruvanmiyur", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 126, "seqno" : 4, "stationName" : "Indira Nagar", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 125, "seqno" : 5, "stationName" : "Kasturba Nagar", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 124, "seqno" : 6, "stationName" : "Kotturpuram", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 123, "seqno" : 7, "stationName" : "Greenways Road", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 122, "seqno" : 8, "stationName" : "Mandaveli", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 121, "seqno" : 9, "stationName" : "Thirumayilai", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 120, "seqno" : 10, "stationName" : "Mundakakanni Amman Koil", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 119, "seqno" : 11, "stationName" : "Light House", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 118, "seqno" : 12, "stationName" : "Tiruvallikeni", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 117, "seqno" : 13, "stationName" : "Chennai Chetpat", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 116, "seqno" : 14, "stationName" : "Chintadaripet", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 115, "seqno" : 15, "stationName" : "Chennai Park", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 114, "seqno" : 16, "stationName" : "Chennai Fort", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 113, "seqno" : 17, "stationName" : "Chennai Beach", "location" : { "latitude" : 0, "longitude" : 0 } } ] }

{ "_id" : ObjectId("594e35e86a3fff3aec802e02"), "name" : "route3", "start" : "Avadi", "final" : "Velachery", "route" : [ { "stationid" : 100, "seqno" : 1, "stationName" : "Avadi", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 101, "seqno" : 2, "stationName" : "Annanur", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 102, "seqno" : 3, "stationName" : "Tirumullaivayil", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 103, "seqno" : 4, "stationName" : "Ambattur", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 104, "seqno" : 5, "stationName" : "Pattaravakkam", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 105, "seqno" : 6, "stationName" : "Korattur", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 106, "seqno" : 7, "stationName" : "Villivakkam", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 107, "seqno" : 8, "stationName" : "Perambur Loco Works", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 108, "seqno" : 9, "stationName" : "Perambur Carriage Works", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 109, "seqno" : 10, "stationName" : "Perambur", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 110, "seqno" : 11, "stationName" : "Vyasarpadi Jeeva", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 111, "seqno" : 12, "stationName" : "Washermanpet", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 112, "seqno" : 13, "stationName" : "Royapuram", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 113, "seqno" : 14, "stationName" : "Chennai Beach", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 114, "seqno" : 15, "stationName" : "Chennai Fort", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 115, "seqno" : 16, "stationName" : "Chennai Park", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 116, "seqno" : 17, "stationName" : "Chintadaripet", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 117, "seqno" : 18, "stationName" : "Chennai Chetpat", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 118, "seqno" : 19, "stationName" : "Tiruvallikeni", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 119, "seqno" : 20, "stationName" : "Light House", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 120, "seqno" : 21, "stationName" : "Mundakakanni Amman Koil", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 121, "seqno" : 22, "stationName" : "Thirumayilai", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 122, "seqno" : 23, "stationName" : "Mandaveli", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 123, "seqno" : 24, "stationName" : "Greenways ROad", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 124, "seqno" : 25, "stationName" : "Kotturpuram", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 125, "seqno" : 26, "stationName" : "Kasturba Nagar", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 126, "seqno" : 27, "stationName" : "Indira Nagar", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 127, "seqno" : 28, "stationName" : "Tiruvanmiyur", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 128, "seqno" : 29, "stationName" : "Taramani", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 129, "seqno" : 30, "stationName" : "Perungudi", "location" : { "latitude" : 0, "longitude" : 0 } }, { "stationid" : 130, "seqno" : 31, "stationName" : "Velachery", "location" : { "latitude" : 0, "longitude" : 0 } } ] }


Route schema

var routeSchema = new mongoose.Schema ({

   name: String,
   start:String,
   final:String,
   route:[{stationid: Number,
          seqno: Number,
           stationName: String,
           location:{ latitude: Number,
                      longitude: Number

           }
         }]
 },
 { collection: "routes"});


Timings schema

var timingSchema = new mongoose.Schema ({

   trainid: Number,
   routeid:String,
   startTime:Number,
   endTime:Number,
   stations:[
     {
       stationName:String,
       stationid:Number,
       seqno: Number,
       arrivalTime:Number,
       departureTime:Number
     }
   ]
 },
 { collection: "timings"});
